<!-- cloudrun services -->
<script id="services.run.projects.id.services.partial" type="text/x-handlebars-template">
    <div id="resource-name" class="list-group-item active">
        <h4 class="list-group-item-heading">{{name}}</h4>
    </div>
    <div class="list-group-item">
        <h4 class="list-group-item-heading">Information</h4>
        <div class="list-group-item-text item-margin">Name: <span id="run.projects.{{project}}.services.{{@key}}.name"><samp>{{value_or_none name}}</samp></span></div>
        <div class="list-group-item-text item-margin">Max Instances: <span id="run.projects.{{project}}.services.{{@key}}.max_instances"><samp>{{value_or_none max_instances}}</samp></span></div>
        <div class="list-group-item-text item-margin">URL: <span id="run.projects.{{project}}.services.{{@key}}.url"><samp>{{value_or_none url}}</samp></span></div>
        <div class="list-group-item-text item-margin">Ingress Settings: <span id="run.projects.{{project}}.services.{{@key}}.ingress_settings"><samp>{{value_or_none ingress_settings}}</samp></span></div>
        <div class="list-group-item-text item-margin">Timeout: <span id="run.projects.{{project}}.services.{{@key}}.timeout"><samp>{{value_or_none timeout}}</samp></span></div>
        <div class="list-group-item-text item-margin">Service Account: <span id="run.projects.{{project}}.services.{{@key}}.service_account"><samp>{{value_or_none service_account}}</samp></span></div>
    </div>


    <div class="list-group-item">
        <h4 class="list-group-item-heading">Container</h4>
        <div class="list-group-item-text item-margin" id="run.projects.{{project}}.services.{{@key}}.container">Container Variables
            {{#if container}}
            <ul>
                {{#each container}}
                <li><samp>image: {{image}}</samp></li>
                    {{#if env}}
                    <div class="list-group-item-text item-margin"> Environment variables: </div>
                    <ul>

                        {{#each env}}
                        {{#if value}}
                        <li><samp>{{name}}: {{value}}</samp></li>
                        {{else}}
                        <li><samp>Secret Name: {{name}}, ValueFrom Name: {{valueFrom.secretKeyRef.name}} key version: {{valueFrom.secretKeyRef.key}}</samp></li>
                        {{/if}}
                        {{/each}}
                        
                    </ul>
                    {{else}}
                    {{/if}}
                {{/each}}
            </ul>
            {{else}}
            <span>None</span>
            {{/if}}
        </div>
    </div>
    
    <div class="list-group-item">
        <h4 class="list-group-item-heading"><span id="run.projects.{{project}}.services.{{@key}}.bindings">Bindings:</span></h4>
        <div class="accordion-inner">
            <ul>
                {{#each bindings}}
                <li>Role <samp>{{role}}</samp></li>
                <ul>
                    {{#each members}}
                    <li><samp>{{this}}</samp></li>
                    {{/each}}
                </ul>
                {{else}}
                <li><samp>None</samp></li>
                {{/each}}
            </ul>
        </div>
    </div>
</script>

<script>
    Handlebars.registerPartial("services.run.projects.id.services", $("#services\\.run\\.projects\\.id\\.services\\.partial").html());
</script>

<!-- Single cloudrun template -->
<script id="single_cloudrun-template" type="text/x-handlebars-template">
    {{> modal-template template='services.run.projects.id.services'}}
</script>
<script>
    var single_cloudrun_template = Handlebars.compile($("#single_cloudrun-template").html());
</script>
